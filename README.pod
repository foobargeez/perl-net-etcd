=encoding utf8

=head1 NAME

Dancer2::Plugin::Etcd

=head1 VERSION

Version 0.001

=head1 SYNOPSIS

    get '/foo/:name' => sub {
        my $tokens = shift
        my $etcd = etcd('foo');
        $tokens->{name} = $etcd->get(/param('name'));
        [ ... ]
    };

=head1 DESCRIPTION

The C<etcd> keyword which is exported by this plugin allows you to 
connect directly to etcd.  Currently we only support basic authentication.

=head1 CONFIGURATION

single e.g.:

    plugins:
      Etcd:
        host: 127.0.0.1
        port: 4001
        user: samb
        password: h3xFu5ion

named e.g.:

    plugins:
      Etcd:
        connections:
          foo:
            host: 127.0.0.1
            port: 4001
            user: samb
            password: h3xFu5ion
          bar:
            host: 127.0.0.1
            port: 2379

=head1 ROUTES

    This plugin gives you a helper route /etcd for free.

    get '/etcd/interesting' is the same as 
    curl -u root http://127.0.0.1:2379/v2/keys/interesting -XGET
    or etcd->get(/interesting)

    It is good to note that in the case of named connections the 
    special route /etcd will use the 1st connection.

=head2 connections

=head2 host

=head2 port

=head2 etcd_connection_name 

=head2 user

Etcd username.

=head2 password

Etcd user password.

=head2 etcd

=head1 AUTHOR

Sam Batschelet, <sbatschelet at mac.com>

=head1 ACKNOWLEDGEMENTS

The L<Dancer2> developers and community for their great application framework
and for their quick and competent support.

=head1 LICENSE AND COPYRIGHT

Copyright 2016 Sam Batschelet (hexfusion).

This program is free software; you can redistribute it and/or modify it
under the terms of either: the GNU General Public License as published
by the Free Software Foundation; or the Artistic License.

See http://dev.perl.org/licenses/ for more information.

